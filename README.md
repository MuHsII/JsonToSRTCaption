# JsonToSRTCaption
将特定格式的Json格式字幕转换为中文srt格式字幕

简介
====
Adobe官方的教程的字幕有些是英文的，有些是中文的。  
这个小程序是将Adobe教程返回的Json转换为srt，没翻译的翻译一下。

文件
===
translator.py 这个当模块用。  
使用方法：import后，调用 `translator.translate(翻译内容字符串)`  
代码是网上搬的，改良为发送翻译内容前特殊符号转义成url规定的格式。  
因为这样就不会出现奇奇怪怪的问题了。
与此同时，谷歌翻译是不要超过5000字，超过请分段。   
调用前请检查字数。英文的话我建议保守4500。  
中文的话，因为转义了，所以发送的东西会多得多。我试过日文的1000是可以的，不会超过限制。  
可以修改这个里面的翻译from...=参数。可以设置为"auto"自动判断语言，不过我一般用eng。

newJson.py 是根据文件夹里面的mp4生成不存在的响应文件名的空json文件。  
方便打开往里面粘贴。后面我的工作流变了，直接下载json重命名。  
所以这是个遗留代码，可能有用。

convert.py 是主角。  
给定路径的json且不存在对应srt文件的json文件会转换成对应的srt文件。  
不 **包含** 中文的话还会翻译（所以日文会比较扯，但目前还不太有时间做得太细），但是要看translator里面的参数了。  
目前还局限在英文，其他用的不多。  
如果有用到的话，接口改一下可能会好点。  
不多说了，其他的话一试便知（￣︶￣）↗　

sample.json 一个例子。

食用说明
========
终端输入： `python -u convert.py`  
-u 表示不缓存直接输出。有时输出多了会攒一段时间等缓存满了再输出。
这就会造成输出不及时，没有反馈。-u 不缓存直接输出。

这里再多缩一句windows自带终端不支持我代码里的颜色输出。  
看起来会非常奇怪。  
所以建议使用linux终端，或在windows下使用一些高级终端。  
最近微软好像说除了个windows terminal预览版。看起来还不是很成熟。  
我自己目前使用的是[Fluent Tetminal](https://github.com/felixse/FluentTerminal)，非常漂亮，可以尝试。

许可
========
GPL许可。欢迎Star 或 fork (●ˇ∀ˇ●)

The end. 